document.addEventListener("contextmenu",(e=>e.preventDefault())),document.addEventListener("keydown",(function(e){("F12"===e.key||e.ctrlKey&&e.shiftKey&&"I"===e.key||e.ctrlKey&&e.shiftKey&&"J"===e.key||e.ctrlKey&&"U"===e.key)&&e.preventDefault()})),function(){const e=document.getElementById("stars"),t=document.getElementById("hearts"),n=document.getElementById("book"),a=document.getElementById("scene");let o=!1;function s(){const e=innerWidth,t=innerHeight;o=t>e}addEventListener("resize",s),addEventListener("orientationchange",s),s();for(let t=0;t<120;t++){const t=document.createElement("div");t.className="star",t.style.left=100*Math.random()+"%",t.style.top=100*Math.random()+"%";const n=2*Math.random()+1;t.style.width=n+"px",t.style.height=n+"px",t.style.animationDuration=5*Math.random()+3+"s",t.style.animationDelay=10*Math.random()+"s",e.appendChild(t)}setInterval((function(){const e=document.createElement("div");e.className="shooting-star",e.style.height=2*Math.random()+1+"px";const t=1e3+3e3*Math.random();o?(e.style.top=100*Math.random()+"%",e.style.left="110vw",e.animate([{transform:"translateX(0)",opacity:1},{transform:"translateX(-130vw)",opacity:0}],{duration:t,easing:"linear"})):(e.style.top=100*Math.random()+"%",e.style.left="-150px",e.animate([{transform:"translateX(0)",opacity:1},{transform:"translateX(130vw)",opacity:0}],{duration:t,easing:"linear"})),document.body.appendChild(e),setTimeout((()=>e.remove()),t)}),600),setInterval((()=>{const e=document.createElement("span");e.textContent=["â¤ï¸","ðŸ’—","ðŸ’–","ðŸ’•"][Math.floor(4*Math.random())],e.style.setProperty("--dur",3*Math.random()+3+"s"),e.style.left=100*Math.random()+"%",e.style.fontSize=1.5*Math.random()+1.2+"rem",t.appendChild(e),setTimeout((()=>e.remove()),7e3)}),900);const r=Math.ceil(3)+1,d={},i={};function c(e){for(const t in d)+t!==e&&(d[t].pause(),i[t]&&(i[t].textContent="â–¶ï¸"))}const l=e=>{const t=document.createElement("div");t.className="page",1===e?t.style.background="url('https://adfy2.icu/img/dcstringe.png') center/cover no-repeat":2===e?t.style.background="url('https://adfy2.icu/img/capitan.png') center/cover no-repeat":3===e?t.style.background="url('https://adfy2.icu/img/tor.png') center/cover no-repeat":4===e?t.style.background="url('https://adfy2.icu/img/lokii.png') center/cover no-repeat":5===e?t.style.background="url('https://adfy2.icu/img/spider.png') center/cover no-repeat":6===e&&(t.style.background="url('https://adfy2.icu/img/iroman.png') center/cover no-repeat"),t.innerHTML=`<div class="folio">${e}</div>`;const n=document.createElement("audio");n.src={1:"https://adfy2.icu/img/music/stringe.mp3",2:"https://adfy2.icu/img/music/capitan.mp3",3:"https://adfy2.icu/img/music/thor.mp3",4:"https://adfy2.icu/img/music/loki.mp3",5:"https://adfy2.icu/img/music/spiderman.mp3",6:"https://adfy2.icu/img/music/ironman.mp3"}[e]||"",n.preload="none",n.controls=!1,n.style.display="none",t.appendChild(n);const a=document.createElement("button");a.textContent="â–¶ï¸",a.className="audio-btn",a.style.position="absolute",a.style.top="20px",a.style.right="20px",a.style.padding="10px 16px",a.style.fontSize="1.2rem",a.style.background="transparent",a.style.border="2px solid white",a.style.borderRadius="8px",a.style.color="white",a.style.cursor="pointer",a.style.zIndex="10",a.style.pointerEvents="auto";const o=e=>{e.stopPropagation(),e.stopImmediatePropagation()};return a.addEventListener("pointerdown",o),a.addEventListener("mousedown",o),a.addEventListener("touchstart",(e=>{e.preventDefault(),o(e)}),{passive:!1}),a.addEventListener("click",(t=>{t.stopPropagation(),n.paused?(c(e),n.play().then((()=>a.textContent="â¸ï¸")).catch((e=>console.warn("Bloqueado:",e)))):(n.pause(),a.textContent="â–¶ï¸")})),a.addEventListener("touchend",(t=>{t.preventDefault(),t.stopPropagation(),n.paused?(c(e),n.play().then((()=>a.textContent="â¸ï¸")).catch((e=>console.warn("Bloqueado:",e)))):(n.pause(),a.textContent="â–¶ï¸")}),{passive:!1}),d[e]=n,i[e]=a,t.appendChild(a),t};document.addEventListener("touchstart",(()=>{for(const e in d)d[e].load()}),{once:!0});const p=()=>{const e=document.createElement("div");e.className="cover",e.style.position="absolute",e.style.inset="0",e.style.background="url('https://adfy2.icu/img/portadaa.png') center/cover no-repeat",e.style.color="#fff",e.style.textAlign="center",e.style.textShadow="0 3px 8px rgba(0,0,0,.9)",e.style.display="flex",e.style.flexDirection="column",e.style.justifyContent="center",e.style.borderRadius="14px";const t=document.createElement("div");return t.style.position="absolute",t.style.left="0",t.style.top="0",t.style.bottom="0",t.style.width="50px",t.style.borderTopLeftRadius="14px",t.style.borderBottomLeftRadius="14px",e.appendChild(t),e},m=()=>{const e=document.createElement("div");e.className="cover cover-back",e.style.position="absolute",e.style.inset="0",e.style.background="url('./atras.png') center/cover no-repeat",e.style.textAlign="center",e.style.color="#fff",e.style.textShadow="0 3px 8px rgba(0,0,0,.9)",e.style.display="flex",e.style.flexDirection="column",e.style.justifyContent="center",e.style.borderRadius="14px",e.innerHTML="";const t=document.createElement("div");return t.style.position="absolute",t.style.right="0",t.style.top="0",t.style.bottom="0",t.style.width="30px",t.style.borderTopRightRadius="14px",t.style.borderBottomRightRadius="14px",e.appendChild(t),e},u=[];for(let e=0;e<r;e++){const t=document.createElement("div");t.className="sheet",t.dataset.i=e,t._a=0,t._t=0,t._v=0,t.style.zIndex=4e3-e;const a=document.createElement("div");a.className="face right";const o=document.createElement("div");o.className="face left";const s=document.createElement("div");s.className="inner";const d=document.createElement("div");if(d.className="inner",0===e)s.appendChild(p()),d.appendChild(l(1));else if(e===r-1)s.appendChild(l(6)),d.appendChild(m());else{const t=2*e,n=2*e+1;t<=6&&s.appendChild(l(t)),n<=6&&d.appendChild(l(n))}a.appendChild(s),o.appendChild(d);const i=document.createElement("div");i.className="curl-overlay";const c=document.createElement("div");c.className="curl-overlay";const y=document.createElement("div");y.className="specular";const h=document.createElement("div");h.className="specular";const v=document.createElement("div");v.className="edge-spec";const g=document.createElement("div");g.className="edge-spec",s.appendChild(i),s.appendChild(y),s.appendChild(v),d.appendChild(c),d.appendChild(h),d.appendChild(g),t.appendChild(a),t.appendChild(o);const f=document.createElement("div");f.className="shadow",t.appendChild(f),t._shadow=f,t._curlR=i,t._curlL=c,t._specR=y,t._specL=h,t._edgeR=v,t._edgeL=g,t.addEventListener("pointerdown",b),t.addEventListener("touchstart",b),n.appendChild(t),u.push(t)}let y=0;const h=1/60;let v=!1;function g(){v=!0;let e=!1;for(const t of u){const n=t._t-t._a;t._v+=(14*n-5*t._v)*h,t._a+=t._v*h,t._a<0&&(t._a=0,t._v=0),t._a>Math.PI&&(t._a=Math.PI,t._v=0);const a=180*-t._a/Math.PI;t.style.transform=`rotateY(${a}deg)`;const o=t._a/Math.PI;if(o>0&&o<1){const e=o<.5?.55*o:.55*(1-o),n=60+90*o;t._shadow.style.background=`radial-gradient(120% 100% at ${100*o}% 50%,rgba(0,0,0,${e}) 0%,rgba(0,0,0,${.5*e}) ${n}%,transparent 100%)`,t._shadow.style.opacity=e>.01?1:0}else t._shadow.style.opacity=0;const s=180*t._a/Math.PI;t.style.zIndex=s<90?4e3-+t.dataset.i:+t.dataset.i+6e3,Math.abs(n)>.001&&(e=!0)}e?requestAnimationFrame(g):v=!1}function f(){const e=window.innerWidth,a=window.innerHeight,o=parseFloat(getComputedStyle(document.documentElement).getPropertyValue("--book-w")),s=parseFloat(getComputedStyle(document.documentElement).getPropertyValue("--book-h"));let r,d;a>e?(d=90,t.classList.add("horizontal"),r=Math.min((e-32)/s,(a-32)/o)):(d=0,t.classList.remove("horizontal"),r=Math.min((e-32)/o,(a-32)/s));let i=0,c=0;0===d?(0===y&&(i=-o/4*r),y===u.length&&(i=o/4*r)):(0===y&&(c=-o/4*r),y===u.length&&(c=o/4*r)),n.style.transition="transform 0.9s cubic-bezier(.25,1.5,.5,1)",n.style.transform=`translate(calc(-50% + ${i}px), calc(-50% + ${c}px)) rotate(${d}deg) scale(${r})`}let x=null;function E(e){return e.touches&&e.touches.length?{x:e.touches[0].clientX,y:e.touches[0].clientY}:{x:e.clientX,y:e.clientY}}function b(e){const t=E(e),n=e.currentTarget,a=+n.dataset.i;a!==y&&a!==y-1||(x={s:n,i:a,sx:t.x,sy:t.y,sa:n._a},n.style.zIndex=8e3,e.type.startsWith("pointer")&&n.setPointerCapture(e.pointerId),document.addEventListener("pointermove",C),document.addEventListener("pointerup",M,{once:!0}),document.addEventListener("touchmove",C,{passive:!1}),document.addEventListener("touchend",M,{once:!0}))}function C(e){if(!x)return;e.cancelable&&e.preventDefault();const t=E(e),{s:o,sx:s,sy:r,sa:d}=x;let i,c;90==(n.style.transform.includes("90deg")?90:0)?(i=t.y-r,c=.5*a.clientHeight):(i=t.x-s,c=.5*a.clientWidth);let l=d-i/c*Math.PI;l<0&&(l=0),l>Math.PI&&(l=Math.PI),o._t=l,v||g()}function M(){if(!x)return;const{s:e,i:t}=x;x=null,document.removeEventListener("pointermove",C),document.removeEventListener("touchmove",C);const n=e._a>=Math.PI/2;e._t=n?Math.PI:0,y=n?Math.max(y,t+1):Math.min(y,t),v||g(),f()}addEventListener("resize",f),addEventListener("orientationchange",f),addEventListener("load",(()=>{f(),setTimeout((()=>n.classList.add("ready")),100)}))}();