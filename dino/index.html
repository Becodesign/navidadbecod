<!DOCTYPE html>
<html lang="es">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Dinosaurios Carrusel GSAP</title>

    <script src="https://cdnjs.cloudflare.com/ajax/libs/gsap/3.12.5/gsap.min.js"></script>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/gsap/3.12.5/CSSRulePlugin.min.js"></script>

    <style>
        @import url('https://fonts.googleapis.com/css2?family=Ranchers&display=swap');

        :root {
            --color-blanco: #f7f7f7;
            --color-negro: #0e0e0e;
        }

        body {
            margin: 0;
            font-family: "Ranchers", sans-serif;
            overflow: hidden;
            height: 100vh;
        }

        .navbar {
            position: fixed;
            top: 0;
            left: 0;
            right: 0;
            display: flex;
            justify-content: space-between;
            align-items: center;
            padding: 1rem 9%;
            z-index: 100;
            color: var(--color-blanco);
            background: hsla(0, 0%, 100%, 0.2);
            font-weight: 100;

        }

        .logo {
            font-size: 2rem;
        }

        nav ul {
            list-style: none;
            display: flex;
            gap: 2rem;
            margin: 0;
            padding: 0;

            @media (width<678px) {
                display: none;

            }
        }

        nav a {
            color: inherit;
            text-decoration: none;
            font-size: 1.1rem;
            opacity: .5;
            transition: all .25s linear;

            &:hover {
                opacity: 1;
            }
        }

        .active {
            opacity: 1;
        }

        .login-btn {
            background-color: var(--color-blanco);
            color: var(--color-negro);
            border: none;
            padding: 10px 20px;
            border-radius: 5px;
            cursor: pointer;
            font-family: "Ranchers", sans-serif;
            box-shadow: 5px 5px 0px var(--color-negro);
            border: 2px solid var(--color-negro);

        }

        .hero-section {
            position: relative;
            width: 100vw;
            height: 100vh;
            display: flex;
            justify-content: center;
            align-items: center;
        }

        .bg-text {
            position: absolute;
            color: var(--color-blanco);
            font-size: 28rem;
            opacity: .8;
            line-height: 1;
            z-index: 5;
            user-select: none;
            pointer-events: none;
            transform: translateX(-50px);
            transition: none;

            @media (width<678px) {
                font-size: 15rem;
            }

        }

        .glow {
            position: absolute;
            top: 50%;
            left: 50%;
            width: 45rem;
            height: 45rem;
            border-radius: 50%;
            background: #fff;
            z-index: 4;
            user-select: none;
            pointer-events: none;
            transform: translate(-50%, -50%);
            opacity: .4;
            filter: blur(80px);
        }

        .dinosaur-container {
            position: relative;
            width: 100%;
            height: 100%;
            display: flex;
            justify-content: center;
            align-items: center;
            z-index: 10;
        }

        .dinosaur-img {
            position: absolute;
            height: 80%;
            width: auto;
            object-fit: contain;
            opacity: 0;
            pointer-events: none;
            transform: scale(0.9);

            @media (width<678px) {
                height: 55%;

            }
        }

        .dinosaur-img.active {
            opacity: 1;
            pointer-events: auto;
            transform: scale(1);
        }

        .controls {
            position: absolute;
            bottom: 30px;
            left: 50%;
            transform: translateX(-50%);
            display: flex;
            gap: 15px;
            z-index: 20;
        }

        .control-btn {
            background: rgba(255, 255, 255, 0.3);
            border: 2px solid white;
            border-radius: 50%;
            width: 40px;
            height: 40px;
            cursor: pointer;
            display: flex;
            justify-content: center;
            align-items: center;
            transition: background 0.3s;
        }

        .control-btn:hover {
            background: rgba(255, 255, 255, 0.5);
        }

        .control-btn svg {
            width: 24px;
            height: 24px;
        }
    </style>
</head>

<body>
    <header class="navbar">
        <div class="logo">kidopedia</div>
        <nav>
            <ul>
                <li><a href="#" class="active">Home</a></li>
                <li><a href="#">Kids TV</a></li>
                <li><a href="#">About</a></li>
                <li><a href="#">Contact</a></li>
            </ul>
        </nav>
        <button class="login-btn">Login</button>
    </header>

    <main class="hero-section" id="hero-section">

        <div class="dinosaur-container">
            <img src="./1.webp" alt="Dinosaurio 1" class="dinosaur-img active" data-index="0">
            <img src="./2.webp" alt="Dinosaurio 2" class="dinosaur-img" data-index="1">
            <img src="./3.webp" alt="Dinosaurio 3" class="dinosaur-img" data-index="2">
            <img src="./4.webp" alt="Dinosaurio 4" class="dinosaur-img" data-index="3">
        </div>

        <div class="controls">
            <button class="control-btn prev" aria-label="Anterior">
                <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" fill="white">
                    <path d="M15.41 7.41L14 6l-6 6 6 6 1.41-1.41L10.83 12z" />
                </svg>
            </button>
            <button class="control-btn next" aria-label="Siguiente">
                <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" fill="white">
                    <path d="M10 6L8.59 7.41 13.17 12l-4.58 4.59L10 18l6-6z" />
                </svg>
            </button>
        </div>

        <div class="glow"></div>
        <h1 class="bg-text">dinosaurs</h1>
    </main>

    <script>
        document.addEventListener('DOMContentLoaded', () => {
            const heroSection = document.getElementById('hero-section');
            const images = document.querySelectorAll('.dinosaur-img');
            const nextBtn = document.querySelector('.next');
            const prevBtn = document.querySelector('.prev');

            let currentIndex = 0;
            let isAnimating = false;

            const backgroundColors = [
                '#F58302',
                '#008000',
                '#4E2763',
                '#54ABAE'
            ];

            function animateCarousel(newIndex, direction) {
                if (isAnimating) return;
                isAnimating = true;

                const currentImg = images[currentIndex];
                const nextImg = images[newIndex];
                const newBgColor = backgroundColors[newIndex];

                const anticipationDistance = 500 * direction;
                const exitDistance = 500 * direction;

                const tlOut = gsap.timeline({
                    defaults: { duration: 0.5, ease: 'power2.inOut' }
                });

                tlOut
                    .to(currentImg, {
                        x: anticipationDistance,
                        scale: 0.98,
                        duration: 0.15
                    })
                    .to(currentImg, {
                        x: exitDistance,
                        opacity: 0,
                        scale: 0.8,
                        duration: 0.4,
                        onComplete: () => {
                            currentImg.classList.remove('active');
                            currentImg.style.transform = '';
                            currentImg.style.opacity = '0';
                        }
                    }, '<')


                gsap.set(nextImg, {
                    x: -exitDistance,
                    scale: 0.7,
                    opacity: 0,
                    zIndex: 11
                });

                const tlIn = gsap.timeline({
                    defaults: { duration: 0.6, ease: 'back.out(1.2)' },
                    onComplete: () => {
                        isAnimating = false;
                    }
                });

                tlIn
                    .to(heroSection, {
                        backgroundColor: newBgColor,
                        duration: 0.5
                    }, 0)

                    .set(nextImg, {
                        opacity: 1,
                        x: 0
                    }, 0.2)
                    .to(nextImg, {
                        x: 0,
                        scale: 1,
                        duration: 0.6
                    }, 0.2)


                    .call(() => {
                        nextImg.classList.add('active');
                    }, null, 0.2);


                currentIndex = newIndex;
            }

            nextBtn.addEventListener('click', () => {
                let newIndex = (currentIndex + 1) % images.length;
                animateCarousel(newIndex, 10);
            });

            prevBtn.addEventListener('click', () => {
                let newIndex = (currentIndex - 1 + images.length) % images.length;
                animateCarousel(newIndex, -10);
            });

            images[currentIndex].classList.add('active');
            heroSection.style.backgroundColor = backgroundColors[currentIndex];
        });
    </script>
</body>

</html>